# Test info

- Name: Job Tests >> Verify that user can apply job successfully
- Location: /home/runner/work/ste-automation-project/ste-automation-project/tests/jobs/apply.spec.ts:46:9

# Error details

```
Error: browserType.launch: Target page, context or browser has been closed
Browser logs:

╔════════════════════════════════════════════════════════════════════════════════════════════════╗
║ Looks like you launched a headed browser without having a XServer running.                     ║
║ Set either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright. ║
║                                                                                                ║
║ <3 Playwright Team                                                                             ║
╚════════════════════════════════════════════════════════════════════════════════════════════════╝
Call log:
  - <launching> /home/runner/.cache/ms-playwright/webkit-2158/pw_run.sh --inspector-pipe --no-startup-window
  - <launched> pid=5538
  - [pid=5538][err]
  - [pid=5538][err] (process:5544): Gtk-WARNING **: 14:16:02.280: Failed to open display

```

# Test source

```ts
   1 | import {test, TestInfo} from "@playwright/test";
   2 | import { JobPage } from "../../pages/jobs/pages";
   3 | import dotenv from 'dotenv';
   4 | import path from 'path';
   5 | import { LoginPage } from "@/pages/authentication/login/page";
   6 | dotenv.config();
   7 |
   8 | // Test data configuration
   9 | const TEST_DATA = {
  10 |     searchTerm: 'Quality Analyst (Manual/Automation Tester - QA QC)',
  11 |     resumeFiles: {
  12 |         valid: 'sample-resume.pdf',
  13 |         oversized: 'sample-resume-2mb.pdf'
  14 |     },
  15 |     errorMessages: {
  16 |         oversizedFile: "Please upload a smaller file (2 MB or less). Change file",
  17 |         requireMessage: "A resume is required"
  18 |     }
  19 | };
  20 |
  21 | test.describe('Job Tests', {tag: ['@jobs', '@apply']},  () => {
  22 |
  23 |     let jobPage: JobPage;
  24 |     let loginPage: LoginPage;
  25 |
  26 |     test.beforeEach(async ({ page }) => {
  27 |         jobPage = new JobPage(page);
  28 |         loginPage = new LoginPage(page);
  29 |         await jobPage.userGoToJobsPage();
  30 |         await loginPage.userLoginByEmail(process.env.UI_LOGIN_USERNAME as string, process.env.UI_LOGIN_PASSWORD as string);
  31 |     })
  32 |
  33 |     const performJobSearch = async () => {
  34 |         await jobPage.userSearchJob(TEST_DATA.searchTerm);
  35 |         await jobPage.userSelectEasyApplyFilter();
  36 |         await jobPage.userClickEasyApplyButton();
  37 |         await jobPage.verifyTheApplyToJobDialogVisible();
  38 |     };
  39 |
  40 |     test('Verify that user cannot apply job if missing required fields', {tag: ["@apply_1_001"]}, async () => {
  41 |         await performJobSearch();
  42 |         await jobPage.makeAllRequiredFieldsEmpty();
  43 |         await jobPage.verifyTheErrorMessagesForRequiredFields();
  44 |     })
  45 |
> 46 |     test('Verify that user can apply job successfully', {tag: ["@apply_1_002"]}, async ({ page }) => {
     |         ^ Error: browserType.launch: Target page, context or browser has been closed
  47 |         await performJobSearch();
  48 |         await jobPage.fillInAllRequiredFieldsForApplyJobDialog();
  49 |         await jobPage.userClickNextButton();
  50 |         const filePath = path.resolve(process.cwd(), 'resources', 'sample-files', TEST_DATA.resumeFiles.valid);
  51 |         await jobPage.userUploadResume(filePath);
  52 |         await jobPage.verifyResumeUploadSuccess(TEST_DATA.resumeFiles.valid);
  53 |         await jobPage.userClickReviewApplicationButton();
  54 |         await jobPage.verifyJobApplicationSuccess();
  55 |     })
  56 |
  57 |     test('Verify the error should appear if submit apply that resume is empty', {tag: ["@apply_1_003"]}, async ({ page }) => {
  58 |         await performJobSearch();
  59 |         await jobPage.fillInAllRequiredFieldsForApplyJobDialog();
  60 |         await jobPage.userClickNextButton();
  61 |         await jobPage.userClickReviewApplicationButton();
  62 |         await jobPage.verifyRequireResumeMessage(TEST_DATA.errorMessages.requireMessage);
  63 |     })
  64 |
  65 |     test('Verify the error should appear if update resume more than 2MB', {tag: ["@apply_1_004"]}, async ({ page }) => {
  66 |         await performJobSearch();
  67 |         await jobPage.fillInAllRequiredFieldsForApplyJobDialog();
  68 |         await jobPage.userClickNextButton();
  69 |         const filePath = path.resolve(process.cwd(), 'resources', 'sample-files', TEST_DATA.resumeFiles.oversized);
  70 |         await jobPage.userUploadResume(filePath);
  71 |         await jobPage.verifyResumeUploadSuccess(TEST_DATA.resumeFiles.oversized);
  72 |         await jobPage.verifyMessageUploadResumeInvalid(TEST_DATA.errorMessages.oversizedFile);
  73 |         await jobPage.verifyRemoveDocument();
  74 |     })
  75 | });
```